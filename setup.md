# Requirements to run the project

# Table of Contents

- [Project Tools Installation](#project-tools-installation)
  - [Node.js](#nodejs)
  - [VSCode](#vscode)
  - [Git](#git)
  - [yarn](#yarn)
  - [PostgreSQL](#postgresql)
  - [Redis](#redis)
  - [Expo](#expo)
- [How to run the project](#how-to-run-the-project)
  - [Frontend](#frontend)
  - [Backend](#backend)

# Project Tools Installation

## Node.js

You would need `Node.js` to successfully run the frontend and backend. Go to the [official docs](https://nodejs.org/) to download and install the latest stable version for your operating system.

`npm` comes pre-installed with `Node.js`

## VSCode

We primarily use Visual Studio Code for the development of the project. The editor can be downloaded from the [official docs](https://code.visualstudio.com/).

_Note:_ Any IDE will work here, but for the best developer experience we recommend VSCode.

Once installed and set up, please install the [ESLint](https://marketplace.visualstudio.com/items?itemName=dbaeumer.vscode-eslint) and [Prettier](https://marketplace.visualstudio.com/items?itemName=esbenp.prettier-vscode) VSCode extensions.

_Note:_ This is not a necessary step, but for viewing lint errors and easy formatting when coding we do recommend using these tool extensions.

## Git

For our source code management and version control we use a tool called `Git`. You can install it from [here](https://git-scm.com/book/en/v2/Getting-Started-Installing-Git).

## yarn

We use `yarn` instead of `npm` to install and manage our dependencies for the project.

You should install this tool globally on your local machine using `npm`:

```bash
# version 1.22.19 is the specific version we use, it's important that you use it too!
npm install -g yarn@1.22.19
```

## PostgreSQL

PostgreSQL is the database management tool used in the project. You can install it from [here](https://www.postgresql.org/download/).

## Redis

Redis is the fast access database we use to store OTPs generated by Forgot Password API. You can install it from [here](https://redis.io/docs/getting-started/installation/).

## Expo

To view the MyGREPrep mobile app you would need the Expo app. You can install it on your mobile device using [Apple AppStore](https://apps.apple.com/us/app/expo-go/id982107779) or [Google PlayStore](https://play.google.com/store/apps/details?id=host.exp.exponent&hl=en_CA&gl=US)

# How to run the project?

You can clone the project by running the following in the terminal:

```bash
git clone https://github.com/MyGREPrep/MyGREPrep.git
```

## Frontend

**Step 1:** You would need to install the dependencies.

```bash
cd frontend
yarn install
```

**Step 2:** Build and run the frontend app from terminal:

```bash
cd frontend
yarn start
```

**Step 3:** Scan the QR code generated using the Expo app

You should now be able to use the MyGREPrep mobile app.

## Backend

**Step 1:** Step up the environment variables. Create a `.env` file in the root of `api/` in the mono repo.

```
# What port you want the backend to run at? Feel free to give any port number, as long as it is not currently used by another process
PORT=5000

# Replace the USERNAME and PASSWORD with the username and password you setup while installing PostGRESQL. Finally replace DBNAME with the database name.
DATABASE_URL=postgresql://USERNAME:PASSWORD@localhost:5432/DBNAME

# Default url where the redis server exists
REDIS_URL=127.0.0.1:6379
```

**Step 2:** Run the following command in the terminal to compile `TypeScript` code into `JavaScript`code in watch mode. Watch mode continuously compiles `ts` code into `js` code when code is changed, thus not needing to compile `ts` code all the time manually.

```bash
yarn watch
```

You can view the compiled JavScript code by visiting the `dist/` folder.

**Step 3:** Open a new terminal window, and run the following command:

```bash
yarn dev
```

This should start the backend server. Visiting `http://localhost:{YOUR_PORT_NUMBER}` in the browser should send a GET request to the `api` and it responds with "MyGrePrep API says hello".

By visiting `http://localhost:{YOUR_PORT_NUMBER}/docs` in your web browser, you should be able to view the API documentation.
